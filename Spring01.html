<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>Spring01</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style>
body { font:80% Verdana,Tahoma,Arial,sans-serif; }
h1, h2, h3, h4 {  font-family: "Trebuchet MS",Georgia,"Times New Roman",serif; }
ul.toc { padding: 4px; margin-left: 0; }
ul.toc li { list-style-type:none; }
ul.toc li.heading2 { margin-left: 1em; }
ul.toc li.heading3 { margin-left: 2em; }
a.wiki-anchor { display: none; margin-left: 6px; text-decoration: none; }
a.wiki-anchor:hover { color: #aaa !important; text-decoration: none; }
h1:hover a.wiki-anchor, h2:hover a.wiki-anchor, h3:hover a.wiki-anchor { display: inline; color: #ddd; }
</style>
</head>
<body>
<a name="Introduction"></a>
<h1 >Introduction<a href="#Introduction" class="wiki-anchor">&para;</a></h1>


	<ul>
	<li>Objectives: When you finish this problem set, you will be able to :<br />Understand basic concept of srping</li>
	</ul>


	<p>Understand basic configuration of spring</p>


	<ul>
	<li>Audience:<br />Software developers with Java programming experience.</li>
	</ul>


	<p>Have implemented junit framework.</p>


	<p>Have implemented tapestry01 problem set.</p>


	<ul>
	<li>Time required:<br />TBD</li>
		<li>Training setup requirements<br /><a href="http://pjtrac.claridy.com/trac/ToReadProductTeam/downloader/" class="external">eclipse</a></li>
	</ul>


	<p><a href="http://pjtrac.claridy.com/trac/ToReadProductTeam/downloader/" class="external">maven</a></p>


	<p><a href="http://pjtrac.claridy.com/trac/ToReadProductTeam/downloader/" class="external">tomcat</a></p>


	<ul>
	<li>Maintainers</li>
	</ul>


	<ul>
	<li>Required Reading<br /><a href="http://www.tutorialspoint.com/spring/index.htm" class="external">Spring Tutorial</a></li>
		<li>Suggested Reading and References<br />TBD</li>
	</ul>


	<a name="Overviewh1-Exercise-1-Getting-Started-with-Hello-World"></a>
<h1 >Overview<br />h1. Exercise 1: Getting Started with Hello World<a href="#Overviewh1-Exercise-1-Getting-Started-with-Hello-World" class="wiki-anchor">&para;</a></h1>


=
	<ul>
	<li>1.1 Create Maven Project
	<ul>
	<li>In the Eclipse IDE, navigate to File > New > Otherâ€¦ in order to bring up the project creation wizard.</li>
		<li>Scroll to the Maven folder, open it, and choose Maven Project. Then choose Next.</li>
		<li>Select maven-archetype-webapp as the archetype of maven. Then choose Next.</li>
		<li>Input com.claridy as group id and pset.spring01 as artifact id. Then choose Finish.</li>
		<li>Check the project file structure. refer to <a class="external" href="https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html</a></li>
	</ul></li>
	</ul>


	<ul>
	<li>1.2 Create required folder for java resources
	<ul>
	<li>Create following folder under src</li>
	</ul></li>
	</ul>


	<p>main/java</p>


	<p>test/java</p>


	<p>test/resources</p>


	<ul>
	<li>Configure above folder as java resources through [project properties]/[Java Build Path]/[Sources]</li>
	</ul>
	
	<ul>
	<li>1.3 Create HelloWorld bean under src/main/java of Java Resources with package spirng01, the Code snippet of HelloWorld is like:<br /><pre>
package spirng01;

public class HelloWorld {
private String message;

public String setMessage(String message){
this.message=message;
}

public void getMessage(){
return this.message;
}
}
</pre></li>
		<li>1.4 Create ContextLoadTest Unit Test under src/test/java of Java Resources with package spirng01, the Code snippet of ContextLoadTest is like:<br /><pre>
package spring01;
import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = { "classpath:ctx_ut.xml" })
public class ContextLoadTest {

@Before
public void setUp() throws Exception {
}

@After
public void tearDown() throws Exception {
}

@Test
public void loadContextTest(){

}
}
</pre></li>
	</ul>


	<ul>
	<li>1.5 Config pom.xml of maven to include necessary jar fils, the required jar files are
	<ul>
	<li>spring-core-2.5.6.jar</li>
		<li>spring-beans-2.5.6.jar</li>
		<li>spring-test-2.5.6.jar</li>
		<li>spring-context-2.5.6.jar</li>
		<li>junit-4.4.jar</li>
	</ul>
	</li>
		<li>1.6 Start ContextLoadTest as JUnit
	<ul>
	<li>It does not work.</li>
		<li>Create ctx_ut.xml under src/test/resoruces the code snippet is like<br /><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;beans xmlns="http://www.springframework.org/schema/beans" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation=" 
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"&gt;

&lt;bean class="spring01.HelloWorld"/&gt;

&lt;/beans&gt;
</pre></li>
		<li>Run ContextLoadTest as JUnit again</li>
	</ul>
	</li>
		<li>1.7 Print out the HelloWorld message
	<ul>
	<li>Refer to <a href="http://docs.spring.io/spring-batch/trunk/reference/html/testing.html" class="external">Spring Test</a>, and use @Autowired annotion to get HelloWorld object, then print out the HelloWorld message with System.out.</li>
	</ul></li>
	</ul>


	<a name="Exercise-2-Reading-properties-files-in-Spring"></a>
<h1 >Exercise 2: Reading properties files in Spring<a href="#Exercise-2-Reading-properties-files-in-Spring" class="wiki-anchor">&para;</a></h1>


	<ul>
	<li>2.1 Refer to <a href="http://docs.spring.io/spring-framework/docs/2.5.6/reference/beans.html#beans-factory-placeholderconfigurer" class="external">PropertyPlaceholderConfigurer</a>
	<ul>
	<li>and create a hello.properties under src/main/resource, the code snippet of hello.properties is following<br /><pre>
hi=hi
</pre></li>
		<li>modify HellowWorld bean definition in ctx_ut.xml and set message through the PropertyPlaceholderConfigurer.</li>
	</ul></li>
	</ul>


	<a name="Exercise-3-Understand-bean-scope"></a>
<h1 >Exercise 3: Understand bean scope<a href="#Exercise-3-Understand-bean-scope" class="wiki-anchor">&para;</a></h1>


	<ul>
	<li>3.1 modify ContextLoadTest to use Autowired to get ApplicationContext of spring</li>
		<li>3.2 use application context to get HelloWorld object, and print out the message of object</li>
		<li>3.3 Change the message content through setMessage method of HelloWorld object, and then get the HelloWorld object from ApplicationCtontext again<br />Are the values of step 3.2 and 3.3 are the same? Why ?</li>
		<li>3.4 modify the scope of HellowWorld bean definition to prototype and repeat step 3.2 and 3.3<br />Are the values of step 3.2 and 3.3 are the same? Why ?</li>
	</ul>


	<a name="Exercise-4-Play-with-initial-method"></a>
<h1 >Exercise 4: Play with initial method<a href="#Exercise-4-Play-with-initial-method" class="wiki-anchor">&para;</a></h1>


	<ul>
	<li>4.1 Create SeeYou Bean under src/main/java of Java Resources with package spirng01, the code snippet is like<br /><pre>
package spring01;

public class SeeYou {
private HelloWorld helloWorld;
private String message;

public void setMessage(String message) {
this.message = message;
}

public String getMessage() {
return this.message;
}

public[HelloWorld getHelloWorld() {
return helloWorld;
}

public void setHelloWorld(HelloWorld helloWorld) {
this.helloWorld = helloWorld;
}
}
</pre></li>
		<li>4.2 add a new property in hello.properties, the code snippet of hello.properties is following<br /><pre>
seeYou=See you
</pre><br />And create Bean definition in ctx_ut.xml,and set seeYou message through the PropertyPlaceholderConfigurer.</li>
		<li>4.3 define a initial method in SeeYou and change the HelloWorld message to SeeYou message in the initial method. Notice: change the scope of HelloWorld to singleton
	<ul>
	<li>The message of HelloWorld and SeeYou should be the same after spring initialization.</li>
	</ul></li>
	</ul>


	<a name="Exercise-5-depends-on-and-initial-priority"></a>
<h1 >Exercise 5: depends-on and initial priority<a href="#Exercise-5-depends-on-and-initial-priority" class="wiki-anchor">&para;</a></h1>


	<ul>
	<li>5.1 Create Goodbye Bean under src/main/java of Java Resources with package spirng01, the code snippet is like<br /><pre>
package spring01;

public class Goodbye {
private HelloWorld helloWorld;
private String message;

public void setMessage(String message) {
this.message = message;
}

public String getMessage() {
return this.message;
}

public HelloWorld getHelloWorld() {
return helloWorld;
}

public void setHelloWorld(HelloWorld helloWorld) {
this.helloWorld = helloWorld;
}

public void init(){
this.helloWorld.setMessage(this.message);
}

}
</pre></li>
		<li>5.2 add a new property in hello.properties, the code snippet of hello.properties is following<br /><pre>
goodbye=Good Bye
</pre><br />And create Bean definition in ctx_ut.xml,and set Goodbye message through the PropertyPlaceholderConfigurer.</li>
		<li>5.3 define a initial method in Goodbye and change the HelloWorld message to Goodbye message in the initial method. Notice: change the scope of HelloWorld to singleton
	<ul>
	<li>Run unit test, to see if the message of HelloWorld and Goodbye the same after spring initialization?</li>
	</ul>
	</li>
		<li>5.4 use depends-on definition to force the Goodbye being initialized before SeeYou
	<ul>
	<li>Run unit test, to see if the message of HelloWorld and Goodbye the same after spring initialization?</li>
	</ul></li>
	</ul>


	<a name="Exercise-6-Start-up-web-with-spring"></a>
<h1 >Exercise 6: Start up web with spring<a href="#Exercise-6-Start-up-web-with-spring" class="wiki-anchor">&para;</a></h1>


	<ul>
	<li>6.1 refer to 3.8.5. Convenient ApplicationContext instantiation for web applications of <a href="http://docs.spring.io/spring-framework/docs/2.5.6/reference/beans.html#beans-factory-scopes-other-web-configuration" class="external">web configuration</a>, and enable spring in your web application</li>
		<li>6.2 print out the message of HelloWorld, SeeYou and Goodbye in index.jsp, the related API is like following<br /><pre>
&lt;%@page import="org.springframework.web.context.WebApplicationContext"%&gt;
&lt;%@page import="org.springframework.web.context.support.WebApplicationContextUtils"%&gt;
&lt;%
WebApplicationContext context = WebApplicationContextUtils
.getWebApplicationContext(application);
%&gt;
</pre><br />Notice: You should include srping-web-2.5.6.jar in pom.xml</li>
	</ul>
</body>
</html>
